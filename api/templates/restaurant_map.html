<!DOCTYPE html>
<html>
    <head>
        <!-- Include other necessary head elements -->
        <script>
            function generateMap() {
                var mapData = {{ map_data | tojson | safe }};
                // JavaScript code to generate the map using mapData
            }
            window.onload = generateMap;
        </script>
    </head>
<body>
    <div class="restaurant-container">
        <h1>Restaurant Places</h1>
        <table class="restaurant-table">
            <tr>
                <th>Name</th>
                <th>Rating</th>
                <th>Reviews</th>
            </tr>
            {% for name, details in restaurants.items() %}
            <tr>
                <td><a href="{{ details[2]|default('#') }}" target="_blank">{{ name }}</a></td>
                <td>{{ details[0]|default('No rating') }}</td>
                <td>{{ details[1]|default('No reviews') }}</td>                
            </tr>
            {% else %}
            <tr>
                <td colspan="3">No restaurant data available.</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    
    <div class="map-container">
        <iframe src="/generate_earthquake_map"></iframe>
    </div>
</body>
</html>
